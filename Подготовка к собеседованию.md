### Вопросы и ответы:
#### 1) Что такое DevOps?
Есть сетевой инженер(Linux админ), а есть разработчик ПО.
DevOps может и в том и в том, разворачивает ПО и делает удобною среду для разработки.
Философия devops направлена на усиление взаимодействия между командами: админами, разработчиками и тестировщиками.
Цель devops c точки зрения бизнеса:
1) Ускорение выпуска новых релизов 
2) Они выпускаются более качественными (меньше багов) 
3) Удобно работать в команде, каждые делает свое дело. И devops занимается интеграцией всех этих вещей. 

Что такое Devops как философия, а не как человек(который автоматизирует процессы).
 1) software development life cycle - понимание и описать все  уровни и почему это оказалось не эффективно и как пришли от этого в devops
 в devops автоматизируется в принципе взаимодействия команд: тестировщики,разработчики и администраторов(operations). 3 круга пересекаются. devops про автоматизацию взаимодействия команд. Что это дает: 1)ускоренный выпуск релизов 2) релизы не в продакшен(развертывание в staging окружение, развертывание poc(Proof of concept) окружений) - частота развертывания (высокая частота deployментов) - их тоже можно считать за метрикой, частота неудач 3) Время доставки изменений(чем ниже время, тем лучше мы работаем).
 мониторинг был до devops(zabbix старее devops)
 
#### 2) Про pipelines
Современные pipelines состоят из следующих частей:
1) Статический анализ кода (prebuild)
2) Сборка (build)
3) Тестирование
4) продакшен (production)
динамические анализаторы
Деплой в окружение происходит следующим образом:
есть ветки develop, stage, production

45:51
CI - то что связано с разработкой, концепция CI - код интегрируется в кодовую базу(git)
CD (Continue Delivery) - автоматизирует доставку кода в окружение, кроме production
CD (Continue Deploy) -  автоматизирует доставку кода в окружение все 100%(вкл production).

CI - непрерывная интеграция. Интеграция - это вливание изменений с второстепенных веток в главную. Непрерывная - это написание скриптов с кучей проверок перед мержем с главной веткой(с помощью анализаторов кода).
CD - автоматическая доставка кода в нужное нам окружение(кроме продакшен).
CD - автоматическая доставка кода в нужное нам окружение, даже в продакшен.

Iac - концепция, подход согласно которому всю нашу инфраструктуру(все наши сервера, виртуалки, БД) с этим работаем как с кодом.
#### 3) Про Linux OS.
Linux - это ядро, а не дистрибутив.
Linux состоит из частей: ядро, файловая система, интерпретатор, планировщик.
Задачи ядра: работа с памятью, планировщик (шедулер)
52:00
Понятие переключения контекста(в планировщике)?
Жизненный цикл потока - это active, wait и ready. Это надо понимать вне зависимости, какая нагрузка на сервер.

У linux есть n-ое кол-во подсистем(и утилиты, которые помогут с задачами в подсистемах):
1) CPU - htop, top, load avarage
2) Memory - в htop VIRT, RES, SHR. Знать что такое разрядность, Тактовый генератор!
3) Disk - df -h, inode (если ругается что нет свободной памяти, а оно есть(df -i посмотреть inode))
4) Network - (как посмотреть, что сетевая подсистема linux нагружена: netstat, ss(Просмотр статистики статистики сетевых подключений ss -s))

#### 4) Про Load average
Это средняя нагрузка системы, показывающая потребность восполняемых потоков. 3 метрики нагрузки системы: 1 5 15 минут
uptime. Нормально когда из 10 ядер показывает 10 LA, т.е мы используем все то, за что платим. Вспомогательная утилита - htop.
ошибка 900 900 900 появляется при нагрузке на диск

#### 5) swap
#### 6) Механизм виртуальной памяти
Нужно для того, чтобы позволять процессору адресовать столько памяти, сколько он может. При этом часть памяти будет в оперативной, часть памяти на диске(в htop колонка VIRT, а RES память, это которая в оперативке).
#### 7) Работа с дисками
1) сделать раздел и создать в нем файловую систему
2) Примонтировать
3) bootstat прописать, чтобы после перезагрузки не слетал
#### 8) Как Linux взаимодействует с устройствами
user space and kernel space
#### 9) Сеть
отличие маршрутизатора от коммутатора:
****Коммутатор*** нужен для построения ломальной сети, используя MAC и порты, а маршрутизатор использует маршрутизируемые протоколы
ARP таблица -
пачкорд
****Коммутатор*** оперирует таблицей коммутации, он знает какие MAC адреса подключены к каким портам(это если не использовать ip соединений в локальной сети). Использую MAC адреса с портами, данные с одного устройства передаются на другое устр-во ,подключенные к одному коммутатору, с помощью 2 уровня(канального).
***Маршрутизатор*** - занимается подбором оптимального маршрута следования пакета. Протоколы маршрутизации и маршрутизируемые протоколы есть понятия на 3 уровня OSI.
#### 10) Отличие SRE от DevOps
#### 11) Что такое SLI и SLO матрица
#### 12) Практики DevOps
1) CI/CD
2) Инфраструктура как код IaC- 
3) Docker, Ansible, Terraform
#### 13) За счет чего увеличивается скорость
Отлаживаются стыки взаимодействия между командами в местах где

#### 14) Маска подсети:
Она показывает:
1) Сколько хостов может быть в подсети
2) формула расчета маски 2^n-2 (1 идет за GATEWAY, а второй за широковещательным 255)
3) первостепенно маска показывает, какая часть относится к подсети, а какая к хосту
4) Понять куда слать пакет

Маска - это идентификатор сети в котором находится ip адрес
публичные ip адреса - они доступны с всего интернета, выдает их провайдер.
приватные ip адреса - не используется в сети интернет, используется локально и можно делать с ними все что угодно.

#### 15) DNS(**Domain Name System** «система доменных имён»):

По умолчанию DNS работает по UDP,DNS нужно резолвить быстро, а TCP требует handshake(трехстороннее рукопожатие(проверка соединения -> получение ответа -> отправка пакета)).
Если UDP ответ превышает 512байт, то переключается на  TCP и также есть порт UDP(53) закрыт, то также переключается на TCP.
Ограничение добавили в связи с защитой от Ddos атаки.

#### 15) SSL/TLS

Метод шифрования SSL(secure socket layer) использует как асимметричную, так и симметричную(используют один общий ключ для шифрования и дешифрования) криптографию. Суть асимметричного шифрования заключается в том, что используется пара ключей. Один из ключей называется открытым (как правило, он публикуется в самом сертификате владельца), а второй ключ называется приватным — он держится в тайне. Оба ключа нужны, чтобы шифровать данные по алгоритму RSA. Публичный ключ нужен, чтобы шифровать сообщения, а приватный — чтобы расшифровывать.
После процедуры обмена и проверки ключей через асимметричный метод создается общий ключ(симметричный) и продолжается работа с ним.(Это на примере браузера с сайтом)
В браузере существует предзагруженный список сертификатов, которые он считает одобренными. Если в нем присутствует организация, которая подписала этот сертификат SSL, то она считается одобренной и соединение считается состоявщимся https соединением.

#### 16) Docker
Что изолируется в контейнере:
Доступ к процессору и доступ к памяти, доступ к разделам,
изоляция на уровне ядра ОС, по всевозможным подсистемам(подсистема памяти, CPU, работа с файловой системой и т.д).
При использовании большого приложения в docker контейнере будет 2 раза перепаковываться из-за ip адреса контейнера 172. и с помощью виртуальный NAT на ip host, для предотвращения такой процедуры(большой нагрузки и чтобы не перепаковывать из-за ip адреса) нужно использовать опцию --net=host и тогда перепаковка отработает 1 раз. Чтобы 


#### 17) IaC(Infrastructure As Code) - Инфраструктура как код
##### Концепция IaC:
Инфраструктура,которую мы создаем будет использоваться многократно. Хороший пример с переездом в другой хостинг.
1) Будет видно всю структуру и анализировать ее
2) Документирование инфраструктуры : Использование кода позволяет частично отказаться от документации
3) Контроль за изменением инфраструктуры. Также позволяет иметь несколько версий инфраструктуры
4) Увеличение скорости развертывания инфраструктуры, уменьшение затрат, уменьшение ошибок. Благодаря автоматизации процессов
**Инструменты для IaC:
1) Terraform
2) Ansible
3) CHEF
4) puppet labs

#### 17) _Ansible_ 
это инструмент infrastructure as a code для автоматизации задач по подготовке и конфигурированию инфраструктуры.

#### 18) _inode_ 
это дополнительные файлы, которые есть у каждого файла в linux и там содержаться данные создания, сколько линков у него,размеры,где находится и прочее

#### 19) _отличие hard link от simlink_ 

#### 20) _Отличие контейнеризации от виртуализации_
При виртуализации на хост машину ставится гипервизор(который распределяет ресурсами), и уже после сверху устанавливаются полноценная ОС (виртуалки) со своим ядром и полностью изолированными ресурсами.
Контейнеры гораздо легче виртуалочек, потому что работает без гипервизора и у них нет своего ядра, используется ядро хоста.Плюсы: меньше весят, быстрее работают ... Каким ресурсом ядра достигается изоляция контейнеризации - namespace-ми!!!

Контейнеры сводятся из образов, у контейнеров в отличие от образов есть дополнительный слой для записи.

Отличие CMD от ENTRYPOINT:
###### Резюме
- Используйте CMD, если хотите задать команду по умолчанию, которую можно переопределить. CMD ["nginx", "-g", "daemon off;"]
- Используйте ENTRYPOINT, если хотите, чтобы команда всегда выполнялась, независимо от того, что передается при запуске контейнера. ENTRYPOINT ["nginx"]


Все ли команды в Dockerfile создают слои:
From, lables - не создают
ADD,COPY - создают

В чем отличие ***Docker stop от pause***:
Основной процесс внутри контейнера получит `SIGTERM`, а после льготного периода `SIGKILL`.
Традиционно при приостановке процесса `SIGSTOP`используется сигнал, наблюдаемый приостанавливаемым процессом.
Основное различие между этими двумя командами заключается в том, что docker stop полностью завершает контейнер, в то время как docker pause просто приостанавливает его выполнение без потери состояния.
Приостановленный контейнер продолжает существовать, но его процессы не выполняются до тех пор, пока контейнер не будет "возобновлен" (с помощью команды docker unpause).

Различие ADD и COPY, и что предпочтительнее использовать:
ADD может по url файлы вытягивать + архивы распаковывать(что в плане безопасности не рекомендуется)
COPY берет и копирует файлы

#### 20) _Что происходит, когда в браузере вводишь url(google.com)_
https://www.youtube.com/watch?v=mEpYirGaz70&ab_channel=DevOps228

#### 21) _Как работает протокол TLS? NAT — что это?_

#### 22) _iptables / файерволы_

#### 23) HTTP или HTTPS – как работает и в чем разница?

Протоколы HTTP (Hypertext Transfer Protocol) и HTTPS (Hypertext Transfer Protocol Secure) работают на прикладном уровне в сетевой модели OSI (Open Systems Interconnection). Это означает, что они работают поверх протоколов транспортного уровня, таких как TCP (Transmission Control Protocol) и UDP (User Datagram Protocol), и протоколов сетевого уровня, таких как IP (Internet Protocol). HTTP и HTTPS используют TCP для установления соединения между клиентом и сервером, а затем передачи данных в виде текстовых сообщений (запросов и ответов) в формате HTTP. HTTPS является защищенной версией протокола HTTP и использует протокол TLS (Transport Layer Security) или его предшественник SSL (Secure Sockets Layer) для защиты данных во время их передачи между клиентом и сервером.

Протокол HTTP передает гипертекст с гиперссылками и представляют собой конкретный путь до другого файла в интернете(т.е. его URL(Uniform Resource Locator - унифицированный указатель ресурса)). Делает это с помощью установления TCP сессии по порту 80.
HTTP это клиент-серверный протокол.

Методы HTTP запросов:

`GET` -  Метод `GET` запрашивает представление ресурса. Запросы с использованием этого метода могут только извлекать данные.
`HEAD` запрашивает ресурс так же, как и метод GET, но без тела ответа.
`POST` используется для отправки сущностей к определённому ресурсу. Часто вызывает изменение состояния или какие-то побочные эффекты на сервере.
`PUT` заменяет все текущие представления ресурса данными запроса.
`DELETE` удаляет указанный ресурс.

5 типов стартовых ответов от сервера:
1хх - информирование о процессе передачи запроса
2хх - информирование об успешной передаче
3хх - информирование о перенаправлении
4хх - Ошибки клиента, означающие, что ты ищешь то чего нет, либо делаешь это неправильно, либо тебе сюда нельзя.
5хх - Ошибки, означающие, что серверу сейчас плохо.

специальный центр сертификации(Let's Encrypt)
